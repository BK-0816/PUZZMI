<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PUZZMI - ì„œìš¸ ë Œíƒˆì¹œêµ¬ ì„œë¹„ìŠ¤</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Noto+Sans+KR:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@500;700;800&family=Noto+Sans+KR:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@600;800&family=Noto+Sans+KR:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="nav.css"/>
<script type="module" src="nav.js"></script>
</head>

<!-- Supabase JS v2 (ESM) -->
<script type="module">
  // nav.jsì—ì„œ ë§Œë“  ì‹±ê¸€í†¤ supabase ì¬ì‚¬ìš© (ì¤‘ë³µ ì¸ìŠ¤í„´ìŠ¤ ë°©ì§€)
  import { supabase } from "./nav.js";

  // ===== 1) ë©”ì´íŠ¸ ëª©ë¡ (í˜ì´ì§€ë„¤ì´ì…˜) =====
  const ONLY_VERIFIED = false;          // ê³µê°œë§Œ ë…¸ì¶œí•˜ë ¤ë©´ true
  const PAGE_SIZE     = 8;
  let page = 0, isLoading = false, hasMore = true;

  const grid = document.querySelector(".friends-grid");
  const loadMoreBtn = document.getElementById("loadMore");

async function refreshHeartCount() {
  const badges = Array.from(document.querySelectorAll('.heart-badge[data-heart]'));
  if (!badges.length) return;

  const ids = [...new Set(badges.map(b => b.getAttribute('data-heart')).filter(Boolean))];

  // ê° ë©”ì´íŠ¸ë³„ ì°œ ê°œìˆ˜ ì¡°íšŒ
  const { data, error } = await supabase
    .from('favorites')
    .select('mate_id')
    .in('mate_id', ids);

  if (error) {
    console.warn('heart refresh error:', error);
    return;
  }
  
  const counts = {};
  for (const row of (data || [])) {
    counts[row.mate_id] = (counts[row.mate_id] || 0) + 1;
  }

  for (const id of ids) {
    const n = counts[id] || 0;
    const el = document.querySelector(`.heart-badge[data-heart="${id}"] .count`);
    if (el) el.textContent = n;
  }
}
  // storage key â†’ public URL
  function keyToUrl(key) {
    if (!key) return "";
    if (/^https?:\/\//i.test(key)) return key;
    const pure = key.startsWith("mates/") ? key.replace(/^mates\//,"") : key;
    return supabase.storage.from("mates").getPublicUrl(pure).data.publicUrl;
  }

  // ì„±ë³„ â†’ ê¸°í˜¸
  function genderIcon(gender) {
    const g = (gender || "").toString().trim().toLowerCase();
    if (["female","f","ì—¬","ì—¬ì","woman","ì—¬ì„±"].includes(g)) return "â™€";
    if (["male","m","ë‚¨","ë‚¨ì","man","ë‚¨ì„±"].includes(g))   return "â™‚";
    return "âš§";
  }

  // ì¹´ë“œ ë Œë”
  function renderCard(row) {
    const name   = row.profiles?.full_name ?? "ì´ë¦„ ë¹„ê³µê°œ";
    const age    = row.profiles?.age ? `${row.profiles.age}ì„¸` : "";
    const gender = row.profiles?.gender ?? "";
    const langs  = Array.isArray(row.profiles?.languages) ? row.profiles.languages : [];
    const gIcon  = genderIcon(gender);

    const keys   = Array.isArray(row.photos) ? row.photos : [];
    const cover  = row.primary_photo || keys[0] || row.profiles?.avatar_url || "https://picsum.photos/seed/puzzmi/400/300";
    const img    = cover.startsWith("http") ? cover : keyToUrl(cover);

    const priceJpy = new Intl.NumberFormat("ja-JP", { style: "currency", currency: "JPY", maximumFractionDigits: 0 }).format(4000);
    const tagsTxt  = (row.tags ?? []).slice(0,3).join(", ") || "ì„œìš¸ íˆ¬ì–´";
    const subline  = [gIcon, age].filter(Boolean).join(" â€¢ ");


    const card = document.createElement("div");
    card.className = "friend-card";
    card.innerHTML = `
      <div class="friend-image">
        <img src="${img}" alt="${name}">
        <div class="heart-badge" data-heart="${row.user_id}" style="position:absolute;right:8px;top:8px;background:#e0245e;color:#fff;border-radius:16px;padding:4px 8px;font-size:12px;display:flex;gap:6px;align-items:center;">
          <i class="fas fa-heart"></i><span class="count">0</span>
        </div>
      </div>
      <div class="friend-info">
        <h3 class="friend-name">${name}</h3>
        <p class="friend-age">${subline || "ì •ë³´ ë¯¸ê¸°ì¬"}</p>
        <p class="friend-specialties">${tagsTxt}</p>
        <p class="friend-description">${row.bio ?? "í•¨ê»˜ ì„œìš¸ì˜ ìˆ¨ì€ ëª…ì†Œë¥¼ ì¦ê²¨ë´ìš”!"}</p>
        <div class="friend-languages">
          ${langs.map(l => `<span class="language">${l}</span>`).join("")}
        </div>
        <div class="friend-price">
          <span class="price">${priceJpy}</span><span class="duration">/ì‹œê°„</span>
        </div>
        <div style="margin-top:10px; display:flex; gap:8px;">
          <a class="cta-btn" data-requires-auth="true" href="mate_like.html?mate_id=${row.user_id}">í”„ë¡œí•„ ë³´ê¸°</a>
          <a class="cta-btn"          data-requires-auth="true" href="booking.html?mate_id=${row.user_id}">ì˜ˆì•½í•˜ê¸°</a>
          <a class="cta-btn" data-fav-mate="${row.user_id}">ì°œí•˜ê¸°</a>
        </div>
      </div>
    `;
    grid.appendChild(card);

  }

  async function loadMates({ reset=false } = {}) {
    if (!grid || isLoading || (!hasMore && !reset)) return;
    if (reset) { page = 0; hasMore = true; grid.innerHTML = ""; }

    isLoading = true;
    const from = page * PAGE_SIZE;
    const to   = from + PAGE_SIZE - 1;

    let query = supabase
      .from("mate_profiles")
      .select(`
        user_id, bio, hourly_rate, tags, areas, is_verified, rating, photos, primary_photo,
        profiles:profiles ( id, full_name, age, gender, languages, avatar_url )
      `, { count: "exact" })
      .order("rating", { ascending: false })
      .range(from, to);

    if (ONLY_VERIFIED) query = query.eq("is_verified", true);

    const { data, error, count } = await query;

    if (error) {
      console.error("loadMates error:", error);
      if (!grid.innerHTML) {
        grid.innerHTML = `<p style="padding:16px">ë©”ì´íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</p>`;
      }
      loadMoreBtn && (loadMoreBtn.style.display = "none");
      isLoading = false;
      return;
    }

    (data || []).forEach(renderCard);

    const fetched = (data || []).length;
    const total   = typeof count === "number" ? count : (from + fetched);
    hasMore = (from + fetched) < total;

    if (loadMoreBtn) loadMoreBtn.style.display = hasMore ? "inline-block" : "none";
    if (hasMore) page += 1;

    isLoading = false;
  }

  loadMoreBtn?.addEventListener("click", () => loadMates());

  // ===== 3) ì¸ì¦ ê°€ë“œ & ì°œí•˜ê¸° ì²˜ë¦¬ =====

  // ì°œí•˜ê¸° ê¸°ëŠ¥
  document.addEventListener('click', async (e) => {
    const btn = e.target.closest('[data-fav-mate]');
    if (!btn) return;
    e.preventDefault();
    
    // ë¡œê·¸ì¸ ì²´í¬
    const { data: { user }, error: authErr } = await supabase.auth.getUser();
    if (authErr || !user) {
      const redir = encodeURIComponent(location.pathname + location.search);
      location.href = `auth_combo.html?redirect=${redir}`;
      return;
    }

    const mateId = btn.getAttribute('data-fav-mate');
    const originalText = btn.textContent;
    btn.disabled = true;
    btn.textContent = 'ì²˜ë¦¬ì¤‘...';

    try {
      // ì´ë¯¸ ì°œí–ˆëŠ”ì§€ í™•ì¸
      const { data: existing } = await supabase
        .from('favorites')
        .select('id')
        .eq('user_id', user.id)
        .eq('mate_id', mateId)
        .maybeSingle();

      if (existing) {
        // ì´ë¯¸ ì°œí•œ ê²½ìš° - ì°œ í•´ì œ
        const { error } = await supabase
          .from('favorites')
          .delete()
          .eq('user_id', user.id)
          .eq('mate_id', mateId);
        
        if (error) throw error;
        
        btn.textContent = 'ì°œí•˜ê¸°';
        btn.classList.remove('is-faved');
        showToast('ğŸ’” ì°œ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤');
      } else {
        // ì°œí•˜ê¸°
        const { error } = await supabase
          .from('favorites')
          .insert({ user_id: user.id, mate_id: mateId });
        
        if (error) throw error;
        
        btn.textContent = 'ì°œ ì™„ë£Œ';
        btn.classList.add('is-faved');
        showToast('ğŸ’– ì°œ ëª©ë¡ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!');
      }

      // í•˜íŠ¸ ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
      await refreshHeartCount();
      
    } catch (error) {
      console.error('ì°œí•˜ê¸° ì˜¤ë¥˜:', error);
      btn.textContent = originalText;
      showToast('âŒ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
    } finally {
      btn.disabled = false;
    }
  });

  // í† ìŠ¤íŠ¸ ë©”ì‹œì§€ í•¨ìˆ˜
  function showToast(message) {
    const toast = document.createElement('div');
    toast.style.cssText = `
      position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white; padding: 12px 24px; border-radius: 12px;
      z-index: 9999; font-weight: 600; box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
      animation: slideDown 0.3s ease;
    `;
    toast.textContent = message;
    document.body.appendChild(toast);
    setTimeout(() => toast.remove(), 3000);
  }


  // ì´ˆê¸° ì‹¤í–‰
  (async () => {
    await loadMates({ reset: true });
    await refreshHeartCount();
    await loadHomepageReviews();
    
    // ìë™ ì™„ë£Œ ì²´í¬ ì‹¤í–‰
    try {
      const { autoCompleteBookings } = await import('./auto_complete_bookings.js');
      await autoCompleteBookings();
      // 5ë¶„ë§ˆë‹¤ ìë™ ì™„ë£Œ ì²´í¬
      setInterval(autoCompleteBookings, 5 * 60 * 1000);
    } catch (error) {
      console.warn('ìë™ ì™„ë£Œ ê¸°ëŠ¥ ë¡œë“œ ì‹¤íŒ¨:', error);
    }
  })();

  // ===== 4) ë©”ì¸í˜ì´ì§€ ë¦¬ë·° ë¡œë“œ =====
  async function loadHomepageReviews() {
    const reviewsGrid = document.getElementById('reviewsGrid');
    if (!reviewsGrid) return;

    try {
      // í‰ì  ë†’ê³  ê¸€ììˆ˜ ë§ì€ ìˆœìœ¼ë¡œ ë¦¬ë·° ê°€ì ¸ì˜¤ê¸°
      const { data: reviews, error } = await supabase
        .from('reviews')
        .select(`
          id, content, rating, created_at, author_name,
          mate_profiles!inner (
            user_id,
            profiles!inner ( full_name )
          )
        `)
        .not('content', 'is', null)
        .order('rating', { ascending: false })
        .limit(50); // ë§ì´ ê°€ì ¸ì™€ì„œ JSì—ì„œ ì •ë ¬

      if (error) {
        console.error('ë¦¬ë·° ë¡œë“œ ì‹¤íŒ¨:', error);
        reviewsGrid.innerHTML = `
          <div class="review-card">
            <p class="review-text">ë¦¬ë·°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>
          </div>
        `;
        return;
      }

      if (!reviews || reviews.length === 0) {
        reviewsGrid.innerHTML = `
          <div class="review-card">
            <p class="review-text">ì•„ì§ ë“±ë¡ëœ ë¦¬ë·°ê°€ ì—†ìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ ë¦¬ë·°ë¥¼ ë‚¨ê²¨ë³´ì„¸ìš”!</p>
          </div>
        `;
        return;
      }

      // í‰ì  ë†’ê³  ê¸€ììˆ˜ ë§ì€ ìˆœìœ¼ë¡œ ì •ë ¬
      const sortedReviews = reviews
        .sort((a, b) => {
          // 1ì°¨: í‰ì  ë†’ì€ ìˆœ
          if (b.rating !== a.rating) {
            return b.rating - a.rating;
          }
          // 2ì°¨: ê¸€ììˆ˜ ë§ì€ ìˆœ
          if ((b.content?.length || 0) !== (a.content?.length || 0)) {
            return (b.content?.length || 0) - (a.content?.length || 0);
          }
          // 3ì°¨: ìµœì‹ ìˆœ
          return new Date(b.created_at) - new Date(a.created_at);
        })
        .slice(0, 6); // ìµœëŒ€ 6ê°œë§Œ í‘œì‹œ

      // ì´ë©”ì¼ ë§ˆìŠ¤í‚¹ í•¨ìˆ˜
      function maskEmail(email) {
        if (!email || typeof email !== 'string') return 'ìµëª…';
        
        const atIndex = email.indexOf('@');
        if (atIndex === -1) return email; // @ ì—†ìœ¼ë©´ ì›ë³¸ ë°˜í™˜ (ì‹¤ëª…)
        
        const localPart = email.substring(0, atIndex);
        const domain = email.substring(atIndex);
        
        if (localPart.length <= 2) {
          return localPart[0] + '*'.repeat(localPart.length - 1) + domain;
        } else if (localPart.length <= 4) {
          return localPart[0] + '*'.repeat(localPart.length - 2) + localPart[localPart.length - 1] + domain;
        } else {
          const start = localPart.substring(0, 2);
          const end = localPart.substring(localPart.length - 2);
          const middle = '*'.repeat(localPart.length - 4);
          return start + middle + end + domain;
        }
      }

      // ë³„ì  í‘œì‹œ í•¨ìˆ˜
      function renderStars(rating) {
        const fullStars = Math.floor(rating);
        const hasHalfStar = rating % 1 >= 0.5;
        let starsHtml = '';
        
        for (let i = 0; i < fullStars; i++) {
          starsHtml += '<i class="fas fa-star"></i>';
        }
        
        if (hasHalfStar) {
          starsHtml += '<i class="fas fa-star-half-alt"></i>';
        }
        
        const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
        for (let i = 0; i < emptyStars; i++) {
          starsHtml += '<i class="far fa-star"></i>';
        }
        
        return starsHtml;
      }

      // ëœë¤ ì•„ë°”íƒ€ ìƒì„± í•¨ìˆ˜
      function getRandomAvatar(index) {
        const avatars = [
          'https://images.pexels.com/photos/1382731/pexels-photo-1382731.jpeg?auto=compress&cs=tinysrgb&w=100',
          'https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=100',
          'https://images.pexels.com/photos/1542085/pexels-photo-1542085.jpeg?auto=compress&cs=tinysrgb&w=100',
          'https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=100',
          'https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=100',
          'https://images.pexels.com/photos/1040880/pexels-photo-1040880.jpeg?auto=compress&cs=tinysrgb&w=100'
        ];
        return avatars[index % avatars.length];
      }

      // ëœë¤ ì§€ì—­ ìƒì„± í•¨ìˆ˜
      reviewsGrid.innerHTML = sortedReviews.map((review, index) => {
        const mateName = review.mate_profiles?.profiles?.full_name || 'ë©”ì´íŠ¸';
        const authorName = maskEmail(review.author_name || 'ìµëª…');
        const reviewDate = new Date(review.created_at).toLocaleDateString('ko-KR', { 
          year: 'numeric', 
          month: 'long' 
        });
        const avatar = getRandomAvatar(index);
        
        return `
          <div class="review-card">
            <div class="review-header">
              <div class="reviewer-info">
                <img src="${avatar}" alt="${authorName}" class="reviewer-avatar">
                <div>
                  <h4 class="reviewer-name">${authorName}</h4>
                </div>
              </div>
            </div>
            <p class="review-text">"${review.content}"</p>
            <div class="review-rating">
              ${renderStars(review.rating)}
            </div>
            <p class="review-date">${reviewDate}</p>
            <div class="review-mate" style="margin-top: 12px; padding: 8px 12px; background: rgba(102, 126, 234, 0.1); border-radius: 8px; font-size: 0.9rem; color: var(--text-secondary);">
              ë©”ì´íŠ¸ <strong>${mateName}</strong> ë‹˜ê³¼ í•¨ê»˜í•œ ì—¬í–‰
            </div>
          </div>
        `;
      }).join('');


    } catch (error) {
      console.error('ë¦¬ë·° ë¡œë“œ ì¤‘ ì˜¤ë¥˜:', error);
      reviewsGrid.innerHTML = `
        <div class="review-card">
          <p class="review-text">ë¦¬ë·°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>
        </div>
      `;
    }
  }
</script>




<body>
    <header class="header">
        <nav class="nav">
            <div class="container">
                <div class="nav-brand">
                    <img src="puzzmi_original.png" alt="PUZZMI ë¡œê³ " class="logo">
                    <span>PUZZMI</span>
                </div>
                
                <ul class="nav-menu">
                    <!-- ê¸°ì¡´ ë©”ë‰´ëŠ” nav.jsì—ì„œ ì²˜ë¦¬ -->
                </ul>

                <div class="nav-actions">
                    <div class="language-selector">
                        <button class="lang-btn active" data-lang="ko">í•œêµ­ì–´</button>
                        <button class="lang-btn" data-lang="ja">æ—¥æœ¬èª</button>
                        <button class="lang-btn" data-lang="en">English</button>
                    </div>
                    <!-- ë¡œê·¸ì¸ ë²„íŠ¼ì€ nav.jsì—ì„œ ì²˜ë¦¬ -->
                </div>
                
                <button class="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
                
                <div id="app-nav"></div>
            </div>
        </nav>
    </header>

    <section id="home" class="hero">
        <div class="hero-bg"></div>
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title" data-key="hero-title">ìŠì„ ìˆ˜ ì—†ëŠ” ì¶”ì–µì„<br>ë‹¹ì‹ ê»˜ ì„ ë¬¼í•©ë‹ˆë‹¤</h1>
                <p class="hero-subtitle" data-key="hero-subtitle">í˜„ì§€ ì¹œêµ¬ì™€ í•¨ê»˜ ë§›ì§‘, í•«í”Œë ˆì´ìŠ¤, ìˆ¨ê²¨ì§„ ëª…ì†Œê¹Œì§€!<br>ì¶”ì–µì˜ í¼ì¦ì„ ë§ì¶°ê°€ì„¸ìš”</p>
                

            </div>
        </div>
    </section>

<section id="about" class="about">
  <div class="container about-content">


    <div class="about-text">
  <h2 class="section-title">'PUZZMI'ëŠ” ì–´ë–¤ ì„œë¹„ìŠ¤ì¸ê°€ìš”?</h2>

   <div class="about-gallery">
  <figure class="about-photo">
    <img src="about1.png" alt="PUZZMI ì†Œê°œ ì‚¬ì§„ 1" />
  </figure>
  <figure class="about-photo">
    <img src="about2.png" alt="PUZZMI ì†Œê°œ ì‚¬ì§„ 2" />
  </figure>
  <figure class="about-photo">
    <img src="about3.png" alt="PUZZMI ì†Œê°œ ì‚¬ì§„ 3" />
  </figure>
</div>

  <!-- í•µì‹¬ í•œ ì¤„ ì¹´í”¼(ë¦¬ë“œ) -->
  <p class="lead-copy">ë‹¹ì‹ ì˜ 'í•¨ê»˜ ê°€ê³  ì‹¶ë‹¤'ëŠ” ë§ˆìŒì„ ì´ë£¨ì–´ ë“œë¦¬ëŠ” ì„œë¹„ìŠ¤!</p>

  <!-- ë³´ì¡° ì¹´í”¼(ë‘ ì¤„) -->
  <p class="section-subtitle">
    í•œêµ­ì¸ê³¼ í•¨ê»˜ ì–¸ì–´ êµí™˜ê³¼ ë¬¸í™” êµë¥˜ë¥¼ í•˜ë©° ì—¬í–‰ì„ íŠ¹ë³„í•œ ì¶”ì–µìœ¼ë¡œ!
     <br><span class="nobr">ìš°ë¦¬ëŠ” ê·¸ëƒ¥ 'ê°€ì´ë“œ'ê°€ ì•„ë‹ˆë¼ 'ì¹œêµ¬'ì…ë‹ˆë‹¤!</span>

  </p>

  <!-- ë² ë„¤í• ë¦¬ìŠ¤íŠ¸(ì²´í¬ ì•„ì´ì½˜ + ì„¤ëª…) -->
  <ul class="benefits">
    <li>
      <div class="icon">âœ“</div>
      <div class="text">
        <strong>í˜¼ìì„œëŠ” ê°ˆ ìˆ˜ ì—†ëŠ” ë§›ì§‘ê³¼ ì¹´í˜ë¥¼ ì¦ê¸°ì!</strong><br>
        í˜„ì§€ ì¹œêµ¬ì™€ í•¨ê»˜ë¼ë©´ ë¡œì»¬ ì¸ê¸° ë§›ì§‘ë„ ë¬¸ì œ ì—†ì–´ìš”! ì–¸ì–´ì¥ë²½ ê±±ì • ì—†ì´ í•œêµ­ì„ ë§ˆìŒê» ì¦ê²¨ë³´ì„¸ìš”!
      </div>
    </li>
    <li>
      <div class="icon">âœ“</div>
      <div class="text">
        <strong>ê°€ì´ë“œë¶ì—ëŠ” ì—†ëŠ” ë‚˜ë§Œì˜ í•œêµ­ì„ ì°¾ì•„ë³´ì!</strong><br>
        ê°€ì´ë“œë¶ì—ëŠ” ì—†ëŠ”, í˜„ì§€ì¸ë§Œ ì•„ëŠ” ìˆ¨ì€ ë§›ì§‘ë„ ì†Œê°œí•©ë‹ˆë‹¤. ì¸ê¸° ê´€ê´‘ì§€ì™€ í•¨ê»˜ í•œêµ­ì˜ ë§¤ë ¥ì„ ë§ˆìŒê» ì¦ê²¨ë³´ì„¸ìš”.
      </div>
    </li>
    <li>
      <div class="icon">âœ“</div>
      <div class="text">
        <strong>ì£¼ë³€ê³¼ ì°¨ì´ë‚˜ëŠ” í•œêµ­ ì—¬í–‰ì„!!</strong><br>
        í•œêµ­ì¸ 'ì—¬ì„±' ë©”ì´íŠ¸ì™€ í•¨ê»˜ í•œêµ­ì˜ ìµœì‹  íŠ¸ë Œë“œë¥¼ ì‹¤ê°ë‚˜ê²Œ ì²´í—˜í•  ìˆ˜ ìˆì–´ìš”! ë©”ì´í¬ì—…ê³¼ íŒ¨ì…˜, ìµœì‹  ì¹´í˜ ìµœì‹  ëª…ì†Œê¹Œì§€ í•œêµ­ì˜ "ì§€ê¸ˆ"ì„ ë§Œë½!
      </div>
    </li>
     <li>
      <div class="icon">âœ“</div>
      <div class="text">
        <strong>ì–¸ì–´ ì¥ë²½ë„ ê±±ì • ë§ˆì„¸ìš”ï¼</strong><br>
        í•œêµ­ì–´ê°€ ë¶ˆì•ˆí•´ë„ ì•ˆì‹¬í•˜ì„¸ìš”. ì£¼ë¬¸, êµí†µ, ì‡¼í•‘, ê¸¸ì•ˆë‚´ ë“± ì˜ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ìŠ¤íŠ¸ë ˆìŠ¤ ì—†ì´ ì—¬í–‰ì„ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤!
      </div>
    </li>
  </ul>

  <!-- ë§ˆë¬´ë¦¬ ë©”ì‹œì§€(ì¸ìš© ì¹´ë“œ) -->
  <div class="about-quote">
    <span class="quote-mark">"</span>
     ë‹¹ì‹ ì˜ í•œêµ­ì—ì„œì˜ ì—¬í–‰ì„ ìµœê³ ì˜ ì‹œê°„ìœ¼ë¡œ ë§Œë“¤ì–´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤ï¼
  </div>
</div>
</section>

<!-- âœ… NEW: SAFETY SECTION -->
<section id="safety" class="safety">
  <div class="container">
    <div class="section-header" data-eyebrow="SAFETY">
      <h2 class="section-title">PUZZMIì˜ ì•ˆì‹¬í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°</h2>
      <p class="section-subtitle">ì²˜ìŒì´ë¼ë„ ì•ˆì‹¬í•˜ê³  ì¦ê¸¸ ìˆ˜ ìˆëŠ” 3ê°€ì§€ í•µì‹¬</p>
    </div>

    <ul class="safety-grid">
      <li class="safety-card reveal">
        <figure class="safety-media">
          <img src="safety1.png" alt="ë©”ì´íŠ¸ ë³¸ì¸í™•ì¸ ì¼ëŸ¬ìŠ¤íŠ¸" width="96" height="96" />
        </figure>
        <div class="safety-copy">
          <h3>ë©”ì´íŠ¸ì˜ ë³¸ì¸í™•ì¸</h3>
          <p>
            ì¹œêµ¬ëŠ” ì‹ ë¶„ì¦ì„ í†µí•œ ë³¸ì¸ í™•ì¸ ì™¸ì— <strong>ë©´ì ‘</strong>ì„ ì‹¤ì‹œí•˜ì—¬
            ëŒ€ì‘ë ¥ê³¼ ë§¤ë„ˆë„ í™•ì¸í•©ë‹ˆë‹¤. ë¯¿ì„ ìˆ˜ ìˆëŠ” ì¹œêµ¬ê°€ ì•ˆì „í•˜ê³  ì¦ê±°ìš´ ì‹œê°„ì„ ì œê³µí•©ë‹ˆë‹¤.
          </p>
        </div>
      </li>

      <li class="safety-card reveal">
        <figure class="safety-media">
          <img src="safety2.png" alt="ì¼ë³¸ì¸ ìŠ¤íƒœí”„ ìƒì£¼ ì¼ëŸ¬ìŠ¤íŠ¸" width="96" height="96" />
        </figure>
        <div class="safety-copy">
          <h3>ì¼ë³¸ì¸ ìŠ¤íƒœí”„ ìƒì£¼</h3>
          <p>
            ì¼ë³¸ì¸ ì§ì›ì´ ìƒì£¼í•˜ì—¬ <strong>ì–¸ì–´Â·ë¬¸í™”</strong> ì¥ë²½ì„ ë‚®ì¶”ê³ ,
            ì²˜ìŒ ì´ìš©í•˜ì‹œëŠ” ë¶„ë„ ì•ˆì‹¬í•˜ê³  ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          </p>
        </div>
      </li>

        <li class="safety-card reveal">
        <figure class="safety-media">
          <img src="safety3.png" alt="ì§€ì› ë° ìƒë‹´ ìš´ì˜ ì¼ëŸ¬ìŠ¤íŠ¸" width="96" height="96" />
        </figure>
        <div class="safety-copy">
          <h3>ì§€ì› ë° ìƒë‹´ ìš´ì˜</h3>
          <p>
            ì´ìš© ì¤‘ ë¬¸ì œê°€ ìƒê²¨ë„ <strong>ì‹ ì†í•œ ìƒë‹´</strong>ìœ¼ë¡œ ëŒ€ì‘í•©ë‹ˆë‹¤.
            ì–¸ì œë“ ì§€ ë¬¸ì˜í•˜ì„¸ìš”.
          </p>
        </div>
      </li>
    </ul>
  </div>
</section>



    <section id="friends" class="friends">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title" data-key="friends-title">ìš°ë¦¬ ì¹œêµ¬ë“¤ì„ ë§Œë‚˜ë³´ì„¸ìš”</h2>
      <p class="section-subtitle" data-key="friends-subtitle">ì¢‹ì•„í•˜ëŠ” ê²ƒë„, ë§›ì§‘ë„, ìµœì‹  íŠ¸ë Œë“œë„ ë‹¤ ì–˜ê¸°í•  ìˆ˜ ìˆëŠ” ì¹œêµ¬ì™€ í•¨ê»˜!</p>
    </div>

    <div class="friend-filters">
      <button class="filter-btn active" data-filter="all" data-key="filter-all">ì „ì²´</button>
    </div>

    <!-- â˜… JSê°€ ì¹´ë“œë¥¼ ì±„ì›Œ ë„£ì„ ì»¨í…Œì´ë„ˆ -->
    <div class="friends-grid"></div>
    <!-- âœ… ë” ë³´ê¸° ë²„íŠ¼ -->
<div class="friends-actions" style="text-align:center; margin-top:12px;">
  <button id="loadMore" class="cta-btn" style="display:none">ë” ë³´ê¸°</button>
</div>
  </div>
</section>

    <section id="how-it-works" class="how-it-works">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title" data-key="how-title">ì´ìš© ë°©ë²•</h2>
                <p class="section-subtitle" data-key="how-subtitle">ì„œìš¸ì—ì„œì˜ í•˜ë£¨ê°€ ë‹¹ì‹ ì˜ ì†Œì¤‘í•œ ì¶”ì–µì´ ë˜ê¸¸ ë°”ëë‹ˆë‹¤.</p>
            </div>
            
            <div class="steps">
                <div class="step">
                    <div class="step-number">01</div>
                    <div class="step-content">
                        <h3 class="step-title" data-key="step1-title">ë©”ì´íŠ¸ ì„ íƒ</h3>
                        <p class="step-description" data-key="step1-desc">í”„ë¡œí•„ì„ ë³´ê³  ì·¨í–¥ì— ë§ëŠ” ì¹œêµ¬ë¥¼ ì„ íƒí•˜ì„¸ìš”. ì–¸ì–´, ê´€ì‹¬ì‚¬, ì „ë¬¸ë¶„ì•¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.</p>
                    </div>
                    <div class="step-icon">
                        <i class="fas fa-user-check"></i>
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">02</div>
                    <div class="step-content">
                        <h3 class="step-title" data-key="step2-title">ì¼ì • ì˜ˆì•½</h3>
                        <p class="step-description" data-key="step2-desc">ì›í•˜ëŠ” ë‚ ì§œì™€ ì‹œê°„, í™œë™ì„ ì„ íƒí•˜ì—¬ ì˜ˆì•½í•˜ì„¸ìš”. ë©”ì´íŠ¸ì™€ ë¯¸ë¦¬ ì±„íŒ…ìœ¼ë¡œ ê³„íšì„ ì„¸ìš¸ ìˆ˜ ìˆì–´ìš”.</p>
                    </div>
                    <div class="step-icon">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">03</div>
                    <div class="step-content">
                        <h3 class="step-title" data-key="step3-title">ë§Œë‚˜ì„œ ì¦ê¸°ê¸°</h3>
                        <p class="step-description" data-key="step3-desc">ì•½ì† ì¥ì†Œì—ì„œ ì¹œêµ¬ë¥¼ ë§Œë‚˜ ì„œìš¸ì˜ ì§„ì§œ ë§¤ë ¥ì„ ê²½í—˜í•˜ì„¸ìš”. í‰ìƒ ìŠì§€ ëª»í•  ì¶”ì–µì„ ë§Œë“¤ì–´ë³´ì„¸ìš”!</p>
                    </div>
                    <div class="step-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="reviews" class="reviews">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title" data-key="reviews-title">ì¶”ì–µì˜ í¼ì¦ì„ ë§ì¶°ë³´ì„¸ìš”</h2>
                <p class="section-subtitle" data-key="reviews-subtitle">PUZZMIì™€ í•¨ê»˜í•œ ì—¬í–‰ê°ë“¤ì˜ ì§„ì†”í•œ ì´ì•¼ê¸°</p>
            </div>
            
            <div class="reviews-grid" id="reviewsGrid">
                <!-- ì‹¤ì œ ë¦¬ë·° ë°ì´í„°ê°€ ì—¬ê¸°ì— ë¡œë“œë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </section>

    <section id="contact" class="contact">
        <div class="container">
            <div class="contact-content">
                <div class="contact-info">
                    <h2 class="section-title" data-key="contact-title">ë¬¸ì˜í•˜ê¸°</h2>
                    <p class="contact-description" data-key="contact-desc">ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ì‹œê±°ë‚˜ íŠ¹ë³„í•œ ìš”ì²­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“  ì—°ë½ì£¼ì„¸ìš”. 24ì‹œê°„ ê³ ê°ì§€ì›íŒ€ì´ ë„ì™€ë“œë ¤ìš”.</p>
                    
                    <div class="contact-details">
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <div>
                                <h4 data-key="contact-email-title">ì´ë©”ì¼</h4>
                                <p>hello@seoulddays.com</p>
                            </div>
                        </div>
                        
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <div>
                                <h4 data-key="contact-phone-title">ì „í™”</h4>
                                <p>+82-2-1234-5678</p>
                            </div>
                        </div>
                        
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>
                                <h4 data-key="contact-address-title">ì£¼ì†Œ</h4>
                                <p data-key="contact-address">ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123</p>
                            </div>
                        </div>
                        
                        <div class="contact-item">
                            <i class="fas fa-clock"></i>
                            <div>
                                <h4 data-key="contact-hours-title">ìš´ì˜ì‹œê°„</h4>
                                <p data-key="contact-hours">24ì‹œê°„ ì—°ì¤‘ë¬´íœ´</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="social-links">
                        <a href="#" class="social-link">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-facebook"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
                
                <div class="contact-form-container">
                    <form class="contact-form">
                        <div class="form-group">
                            <input type="text" placeholder="ì´ë¦„" data-placeholder-key="form-name" required>
                        </div>
                        <div class="form-group">
                            <input type="email" placeholder="ì´ë©”ì¼ ì£¼ì†Œ" data-placeholder-key="form-email" required>
                        </div>
                        <div class="form-group">
                            <input type="text" placeholder="ì œëª©" data-placeholder-key="form-subject" required>
                        </div>
                        <div class="form-group">
                            <textarea placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”" data-placeholder-key="form-message" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary" data-key="form-submit">ë©”ì‹œì§€ ë³´ë‚´ê¸°</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="nav-brand">
                        <span>PUZZMI</span>
                    </div>
                    <p class="footer-description" data-key="footer-desc">ìŠì„ ìˆ˜ ì—†ëŠ” ì¶”ì–µì„ ë‹¹ì‹ ê»˜ ì„ ë¬¼í•©ë‹ˆë‹¤</p>
                </div>
                
                <div class="footer-links">
                    <div class="footer-column">
                        <h4 data-key="footer-service">ì„œë¹„ìŠ¤</h4>
                        <ul>
                            <li><a href="#" data-key="footer-pricing">ìš”ê¸ˆì•ˆë‚´</a></li>
                            <li><a href="#" data-key="footer-safety">ì•ˆì „ì •ì±…</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h4 data-key="footer-support">ê³ ê°ì§€ì›</h4>
                        <ul>
                            <li><a href="#" data-key="footer-help">ë„ì›€ë§</a></li>
                            <li><a href="#" data-key="footer-faq">ìì£¼ë¬»ëŠ”ì§ˆë¬¸</a></li>
                            <li><a href="#" data-key="footer-contact-us">ë¬¸ì˜í•˜ê¸°</a></li>
                            <li><a href="#" data-key="footer-refund">í™˜ë¶ˆì •ì±…</a></li>
                        </ul>
                    </div>
                  
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 PUZZMI. <span data-key="footer-rights">All rights reserved.</span></p>
                <div class="footer-legal">
                    <a href="#" data-key="footer-terms">ì´ìš©ì•½ê´€</a>
                    <a href="#" data-key="footer-privacy">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <div class="floating-actions" aria-label="ë¹ ë¥¸ ì‹¤í–‰ ë²„íŠ¼">
  <a href="https://instagram.com/puzzmi_official" target="_blank" class="floating-btn insta" aria-label="Instagram">
    <i class="fab fa-instagram" aria-hidden="true"></i><span>Instagram</span>
  </a>
  <a href="https://lin.ee/NbNPSUz" target="_blank" class="floating-btn line" aria-label="LINE">
    <i class="fab fa-line" aria-hidden="true"></i><span>LINE</span>
  </a>
  <a href="https://x.com/puzzmi19889" target="_blank" class="floating-btn x" aria-label="X (Twitter)">
  <i class="fa-brands fa-x-twitter" aria-hidden="true"></i><span>X</span>
</a>
  <!-- ì˜ˆì•½í•˜ê¸°ëŠ” ë‚´ë¶€ ì„¹ì…˜ìœ¼ë¡œ ì—°ê²°í•˜ê±°ë‚˜ ì™¸ë¶€ ì˜ˆì•½ URLì„ ë„£ìœ¼ì„¸ìš” -->
  <a href="#contact" class="floating-btn book" aria-label="ì˜ˆì•½í•˜ê¸°">
    <i class="fas fa-calendar-check" aria-hidden="true"></i><span>ì˜ˆì•½í•˜ê¸°</span>
  </a>
</div>
</body>
</html>