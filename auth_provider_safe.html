
<!DOCTYPE html><html lang="ko"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>PUZZMI - 로그인(Provider Safe)</title>
<link rel="stylesheet" href="styles.css"/><link rel="stylesheet" href="pages.css"/><link rel="stylesheet" href="pages-theme.css"/></head>
<body class="bg-cream"><main class="page"><section class="card"><h2>로그인</h2>
<form id="loginForm" class="stack-16"><div class="row single"><div class="field"><div class="label">이메일</div><input class="input" id="login_email" type="email" required/></div><div class="field"><div class="label">비밀번호</div><input class="input" id="login_password" type="password" required/></div></div><button class="btn btn-primary" type="submit">로그인</button><div id="login_result"></div></form>
<form id="magicForm" class="stack-16"><div class="field"><div class="label">이메일</div><input class="input" id="magic_email" type="email" required/></div><button class="btn btn-primary" type="submit">매직링크 보내기</button><div id="magic_result"></div></form>
</section></main>
<script type="module">
import { createClient } from "https://esm.sh/@supabase/supabase-js@2";
const supabase = createClient("https://eevvgbbokenpjnvtmztk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVldnZnYmJva2VucGpudnRtenRrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc1NjI2OTgsImV4cCI6MjA3MzEzODY5OH0.aLoqYYeDW_0ZEwkr8c8IPFvXnEwQPZah1mQzwiyG2Y4");
document.getElementById('loginForm').onsubmit=async(e)=>{e.preventDefault(); const email=document.getElementById('login_email').value.trim(); const password=document.getElementById('login_password').value; const {error}=await supabase.auth.signInWithPassword({email,password}); document.getElementById('login_result').textContent= error?error.message:'로그인 성공';};
document.getElementById('magicForm').onsubmit=async(e)=>{e.preventDefault(); const email=document.getElementById('magic_email').value.trim(); const {error}=await supabase.auth.signInWithOtp({email, options:{emailRedirectTo:location.href}}); document.getElementById('magic_result').textContent= error?error.message:'보냈습니다';};
</script></body></html>
